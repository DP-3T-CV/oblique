<div class="default-layout">
	<form class="form-horizontal has-validation" name="validationForm" role="form" [schemaValidation]="schema"
	      ng-submit="ctrl.check(validationForm)" #form="ngForm" unsavedChanges>
		<h2 class="page-header">
			<span>Schema validation</span>
			<span class="pull-right">
			<div class="fa fa-check text-success" uib-tooltip="Form is valid" tooltip-placement="bottom"
			     ng-if="validationForm.$valid"></div>
			<span class="fa fa-warning text-danger" uib-tooltip="Form is not valid" tooltip-placement="bottom"
			      ng-if="!validationForm.$valid"></span>
		</span>
		</h2>
		<p class="lead">Use a custom <a href="http://json-schema.org/">JSON schema</a> in order to perform automatic
			form
			control validation.</p>
		<div class="card">
			<div class="card-header">
				<h3 class="card-title">Preview</h3>
			</div>
			<div class="card-block">
				<div class="form-group">
					<label class="col-sm-4 control-label">Text</label>
					<div class="col-sm-6">
						<input name="text" type="text" class="form-control" ngModel schemaValidate
						       #text="ngModel"/>
						<span class="help-block">ERRORS: {{text.control.errors | json }}</span>
						<!--<span *ngFor="let error of text.errors" id="text-schema-validation-error" class="help-block">{{error | json}}</span>-->
					</div>
					<div class="col-sm-2">
						<a href="" class="form-control-static" role="button"
						   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.text)"
						   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
							<span class="fa fa-sitemap"></span>
						</a>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label">Number</label>
					<div class="col-sm-6">
						<input name="number" type="text" class="form-control" ngModel number-format
						       schemaValidate/>
					</div>
					<div class="col-sm-1">
						<a href="" class="form-control-static" role="button"
						   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.number)"
						   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
							<span class="fa fa-sitemap"></span>
						</a>
					</div>
					<div class="col-sm-1">
						<a href="" class="form-control-static" role="button"
						   uib-popover-html="'<ul class=list-unstyled><li><code>input[type=\'text\']</code></li><li><code>[number-format]</code></li></ul>'"
						   popover-title="Usage" popover-placement="bottom" popover-trigger="'focus'">
							<span class="fa fa-info-circle"></span>
						</a>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-4 control-label">Integer</label>
					<div class="col-sm-6">
						<input name="integer" type="number" class="form-control"
						       ngModel schemaValidate/>
					</div>
					<div class="col-sm-2">
						<a href="" class="form-control-static" role="button"
						   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.integer)"
						   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
							<span class="fa fa-sitemap"></span>
						</a>
					</div>
				</div>
                <div class="form-group">
                    <label class="col-sm-4 control-label">Integer</label>
                    <div class="col-sm-6">
                        <date-picker>
							<input class="form-control" placeholder="yyyy-mm-dd"
								   name="date" ngModel ngbDatepicker required #m="ngModel" navigation="arrows">
						</date-picker>
                    </div>
                    <div class="col-sm-2">
                        <a href="" class="form-control-static" role="button"
                           uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.integer)"
                           popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
                            <span class="fa fa-sitemap"></span>
                        </a>
                    </div>
                    <span class="help-block">ERRORS: {{m.control.errors | json }}</span>
                </div>
				<!--<form-control class="form-group">
				  <label class="col-sm-4 control-label">Date</label>
				  <div class="col-sm-6">
					<div class="row">
					  <div class="col-sm-6">
						<date-picker name="date" [(ngModel)]="model.date" schema-validate></date-picker>
					  </div>
					  <div class="col-sm-6">
						<div class="btn-group">
						  <button type="button" class="btn btn-info" ng-click="ctrl.today()" tooltip-append-to-body="true"
								  uib-tooltip="Sets model to today's date using the standard JavaScript Date object">Today</button>
						  <button type="button" class="btn btn-info" ng-click="ctrl.toISO()" tooltip-append-to-body="true"
								  uib-tooltip="Sets model to today's date using the ISO 8601 format">ISO</button>
						  <button type="button" class="btn btn-info" ng-click="ctrl.toTimestamp()" tooltip-append-to-body="true"
								  uib-tooltip="Sets model to today's date using a timestamp">Timestamp</button>
						</div>
					  </div>
					</div>
				  </div>
				  <div class="col-sm-2">
					<a href="" class="form-control-static" role="button"
					   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.date)"
					   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
					  <span class="fa fa-sitemap"></span>
					</a>
				  </div>
				</form-control>-->
				<!--<form-control class="form-group">
				  <label class="col-sm-4 control-label">Time</label>
				  <div class="col-sm-6">
					<div name="time" class="timepicker timepicker-condensed"
						 ng-model="ctrl.data.time" schema-validate
						 uib-timepicker show-meridian="false" minute-step="15"></div>
				  </div>
				  <div class="col-sm-2">
					<a href="" class="form-control-static" role="button"
					   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.time)"
					   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
					  <span class="fa fa-sitemap"></span>
					</a>
				  </div>
				</form-control>-->
				<!--<form-control class="form-group">
				  <label class="col-sm-4 control-label">Select</label>
				  <div class="col-sm-6">
					<select name="select" class="form-control"
							ng-model="ctrl.data.select" schema-validate
							ng-options="option.value as option.label for option in ctrl.schema.properties.select.options">
					  <option value="" class="text-muted" selected translate="i18n.common.select"></option>
					</select>
				  </div>
				  <div class="col-sm-2">
					<a href="" class="form-control-static" role="button"
					   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.select)"
					   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
					  <span class="fa fa-sitemap"></span>
					</a>
				  </div>
				</form-control>-->
				<!--<form-control class="form-group">
				  <label class="col-sm-4 control-label">Multiselect</label>
				  <div class="col-sm-6">
					<multiselect name="multiselect" ng-model="ctrl.data.multiselect" schema-validate
								 options="ctrl.schema.properties.multiselect.options"
								 extra-settings="{showCheckAll: true, showUncheckAll: true, idProp: 'value'}"></multiselect>
				  </div>
				  <div class="col-sm-2">
					<a href="" class="form-control-static" role="button"
					   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.multiselect)"
					   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
					  <span class="fa fa-sitemap"></span>
					</a>
				  </div>
				</form-control>-->
				<div class="form-group">
					<label class="col-sm-4 control-label">Textarea</label>
					<div class="col-sm-6">
					<textarea name="textarea" type="text" class="form-control"
					          ngModel msd-elastic rows="1" schemaValidate></textarea>
					</div>
					<div class="col-sm-1">
						<a href="" class="form-control-static" role="button"
						   uib-popover-html="ctrl.jsonSource(ctrl.schema.properties.textarea)"
						   popover-title="Schema" popover-placement="bottom" popover-trigger="'focus'">
							<span class="fa fa-sitemap"></span>
						</a>
					</div>
					<div class="col-sm-1">
						<a href="" class="form-control-static" role="button"
						   uib-popover-html="'<ul class=list-unstyled><li><code>textarea[msd-elastic]</code></li></ul>'"
						   popover-title="Usage" popover-placement="bottom" popover-trigger="'focus'">
							<span class="fa fa-info-circle"></span>
						</a>
					</div>
				</div>
				<div class="panel" ngModelGroup="name">
					<h3 class="panel-title">Name</h3>
					<div class="form-group">
						<label class="col-sm-4 control-label">Firstname</label>
						<div class="col-sm-6">
							<input type="text" name="firstname" class="form-control" ngModel schemaValidate>
						</div>
					</div>
					<div class="form-group">
						<label class="col-sm-4 control-label">Lastname</label>
						<div class="col-sm-6">
							<input type="text" name="lastname" class="form-control" ngModel schemaValidate>
						</div>
					</div>
				</div>
			</div>
			<div class="card-footer">
				<div class="form-actions">
					<button type="submit" class="btn btn-primary"
					        ng-disabled="!validationForm.$valid && validationForm.$submitted">Check
					</button>
				</div>
			</div>
		</div>
	</form>
	<div class="row">
		<div class="col-md-6">
			<h4>Full JSON schema</h4>
			<pre>{{schema | json}}</pre>
		</div>
		<div class="col-md-6">
			<h4>Model data</h4>
			<pre>{{form.value | json}}</pre>
			<h4>Form valid?</h4>
			<pre>{{form.valid | json}}</pre>
		</div>
	</div>
</div>
